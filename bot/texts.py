FINISH_MSG = (
    "üèÅ –ì–ì, {team}! –ú–∞—Ä—à—Ä—É—Ç –∑–∞–∫—Ä—ã—Ç.\n"
    "–ñ–¥—É –≤–∞—Å –Ω–∞ —Ü–µ—Ä–µ–º–æ–Ω–∏–∏ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è: "
    "https://yandex.com/maps/org/premio/1010174823/?ll=44.006187%2C56.331666&z=13.79\n\n"
    "–ë–∞—Ä–º–µ–Ω—ã –Ω–∞–ª–∏–≤–∞—é—Ç –∫–æ–∫—Ç–µ–π–ª–∏, –ø—Ä–∏–∑—ã ‚Äî –ø–æ —Ü–µ–Ω—Ç—Ä—É, —Å–ª–∞–≤–∞ ‚Äî –Ω–∞–≤—Å–µ–≥–¥–∞ üíú"
)

RULES_SHORT = (
    "–ù–∞ –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–µ:\n"
    "‚Ä¢ –ø–æ–ª—É—á–∞–µ—Ç–µ –∑–∞–≥–∞–¥–∫—É;\n"
    "‚Ä¢ –æ—Ç–≤–µ—Ç ‚Äî *—Ñ–æ—Ç–æ –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã* –Ω–∞ –º–µ—Å—Ç–µ + —É–∫–∞–∑–∞–Ω–Ω–∞—è –¥–µ—Ç–∞–ª—å;\n"
    "‚Ä¢ –ø–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏—Å—ã–ª–∞—é —Å–ª–µ–¥—É—é—â—É—é –∑–∞–≥–∞–¥–∫—É.\n"
    "–í—Å–µ–≥–æ 4‚Äì5 –ª–æ–∫–∞—Ü–∏–π, —Ñ–∏–Ω–∏—à –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π."
)

ONBOARDING = (
    "üèõÔ∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ —Ñ–æ—Ä—É–º *¬´–ù–∞—Å–ª–µ–¥–∏–µ¬ª*! üëã\n\n"
    "–Ø –ø–æ–º–æ–≥—É –≤–∞–º —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∫–æ–Ω–∫—É—Ä—Å–µ —Å—Ç–∞—Ç–µ–π –æ–± –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø–∞–º—è—Ç–Ω–∏–∫–∞—Ö. "
    "–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∞—à–∏ —Å—Ç–∞—Ç—å–∏ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—á–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã! üì∞üì∑\n\n"
    "–ù–∞–∂–º–∏—Ç–µ /reg —á—Ç–æ–±—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è."
)

HELP_CONTACTS = "–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä: {name} {phone}"

CAPTAIN_ASSIGNED = (
    "–ö–∞–ø–∏—Ç–∞–Ω–æ–º –Ω–∞–∑–Ω–∞—á–µ–Ω {captain}. –¢–µ–ø–µ—Ä—å —Å–æ –º–Ω–æ–π –æ–±—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ *–∫–∞–ø–∏—Ç–∞–Ω* ‚Äî "
    "—á—Ç–æ–±—ã –Ω–µ DDoS–∏—Ç—å —á–∞—Ç üòâ"
)

# === –î–û–ë–ê–í–õ–ï–ù–û ===
ASK_TEAM_NAME = "–ö–æ–º–∞–Ω–¥–∞ –≤—ã–≥–ª—è–¥–∏—Ç –ø–æ–ª–Ω–æ–π. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:"
ASK_START = "–ì–æ—Ç–æ–≤—ã —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å?"
APP_HINT = "–í—Å—é –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∫–≤–µ—Å—Ç—É —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ *–º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏*."
STARTED_MSG = "üöÄ –ö–≤–µ—Å—Ç –Ω–∞—á–∞—Ç!"
APPROVED_MSG = "‚úÖ –ó–∞–¥–∞–Ω–∏–µ {num} –∑–∞—á—Ç–µ–Ω–æ! –ï–¥–µ–º –¥–∞–ª—å—à–µ."

def format_task_card(cp: dict) -> str:
    num = cp.get("order_num") or "?"
    total = cp.get("total") or "?"
    title = cp.get("title") or "–ó–∞–¥–∞–Ω–∏–µ"
    riddle = (cp.get("riddle") or "").strip()
    hint = (cp.get("photo_hint") or "").strip()

    header = f"*–ó–∞–¥–∞–Ω–∏–µ {num}/{total} ‚Äî {title}*"
    body = riddle if riddle else ""
    # –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º hint, –ª–∏–±–æ –æ–¥–∏–Ω –¥–µ—Ñ–æ–ª—Ç ‚Äî –Ω–æ –Ω–µ –æ–±–∞
    if hint:
        tail = hint
    else:
        tail = "–ñ–¥—ë–º –≤–∞—à–µ —Ñ–æ—Ç–æ –Ω–∞ —ç—Ç–æ–π —Ç–æ—á–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞ :)"

    recommendation = "_–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –∫ —Ñ–æ—Ç–æ:_ –í—Å—è –∫–æ–º–∞–Ω–¥–∞ + —Ñ–æ—Ç–æ —Ä–∞–∑–≥–∞–¥–∞–Ω–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏. –°–Ω–∏–º–∞–π—Ç–µ —Å –Ω–∏–∂–Ω–µ–π —Ç–æ—á–∫–∏."
    parts = [header, body, tail, recommendation]
    return "\n\n".join([p for p in parts if p])